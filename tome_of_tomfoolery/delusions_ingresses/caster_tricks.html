<html><head><link rel="stylesheet" href="../assets/style.css"></head><body><div class="sidebar"><ol style="list-style-type: none"><li><a href="../intro.html">Introduction</a></li><li><a href="../editing.html">Spell-Scribing</a></li><li><a href="../constants.html">Constants</a></li></ol><ol style="list-style-type: none"><li><div><a href="../concepts.html"><strong>1</strong> Concepts</a><ol style="list-style-type: none"><li><a href="../concepts/trace.html"><strong>1.1 </strong>Stack Traces</a></li><li><a href="../concepts/macro.html"><strong>1.2 </strong>Macros</a></li><li><a href="../concepts/trigger_items.html"><strong>1.3 </strong>Trigger Items</a></li><li><a href="../concepts/fragment_decay.html"><strong>1.4 </strong>Fragment Decay</a></li><li><a href="../concepts/mana.html"><strong>1.5 </strong>Mana</a></li><li><a href="../concepts/tricks_explanation.html"><strong>1.6 </strong>Trick Types</a></li><li><a href="../concepts/multi_tick.html"><strong>1.7 </strong>Long Spells</a></li><li><a href="../concepts/signatures.html"><strong>1.8 </strong>Trick Signatures</a></li><li><a href="../concepts/ward.html"><strong>1.9 </strong>Wards</a></li></ol></div></li><li><div><a href="../items.html"><strong>2</strong> Items</a><ol style="list-style-type: none"><li><a href="../items/amethyst_whorl.html"><strong>2.1 </strong>Amethyst Whorl</a></li><li><a href="../items/knots.html"><strong>2.2 </strong>Knots</a></li><li><a href="../items/quartz_knot.html"><strong>2.3 </strong>Quartz Knot</a></li><li><a href="../items/cracked_echo_knot.html"><strong>2.4 </strong>Cracked Echo Knot</a></li><li><a href="../items/echo_knot.html"><strong>2.5 </strong>Echo Knot</a></li><li><a href="../items/astral_hint.html"><strong>2.6 </strong>Of Stars Below...</a></li><li><a href="../items/astral_knot.html"><strong>2.7 </strong>Astral Knot</a></li><li><a href="../items/wand.html"><strong>2.8 </strong>Wand</a></li><li><a href="../items/mirror_of_evaluation.html"><strong>2.9 </strong>Mirror of Evaluation</a></li><li><a href="../items/scroll_and_quill.html"><strong>2.10 </strong>Scroll and Quill</a></li><li><a href="../items/top_hat.html"><strong>2.11 </strong>Hats</a></li><li><a href="../items/ring.html"><strong>2.12 </strong>Macro Ring</a></li><li><a href="../items/warding_charm.html"><strong>2.13 </strong>Warding Charm</a></li><li><a href="../items/scroll_shelf.html"><strong>2.14 </strong>Scroll Shelves</a></li><li><a href="../items/charging_array.html"><strong>2.15 </strong>Charging Array</a></li><li><a href="../items/spell_construct.html"><strong>2.16 </strong>Spell Construct</a></li><li><a href="../items/modular_spell_construct.html"><strong>2.17 </strong>Modular Spell Construct</a></li><li><a href="../items/spell_core.html"><strong>2.18 </strong>Spell Core</a></li><li><a href="../items/rusted_spell_core.html"><strong>2.19 </strong>Rusted Spell Core</a></li><li><a href="../items/ominous_spell_core.html"><strong>2.20 </strong>Ominous Spell Core</a></li><li><a href="../items/spell_resonator.html"><strong>2.21 </strong>Spell Resonator</a></li><li><a href="../items/inactive_spawner_spell_core.html"><strong>2.22 </strong>Torment Spell Core Shell</a></li><li><a href="../items/spawner_spell_core.html"><strong>2.23 </strong>Torment Spell Core</a></li><li><a href="../items/leash_and_collar.html"><strong>2.24 </strong>The Acolyte&#x27;s Pledge</a></li></ol></div></li><li><div><a href="../delusions_ingresses.html"><strong>3</strong> Delusions &amp; Ingresses</a><ol style="list-style-type: none"><li><a href="entity_locating.html"><strong>3.1 </strong>Entity Targeting</a></li><li><a href="entity.html"><strong>3.2 </strong>Entity Querying</a></li><li><a href="arguments.html"><strong>3.3 </strong>Arguments</a></li><li><a href="caster_tricks.html"><strong>3.4 </strong><strong>Casting Context</strong></a></li><li><a href="block.html"><strong>3.5 </strong>Block Querying</a></li><li><a href="raycast.html"><strong>3.6 </strong>Raycasting</a></li><li><a href="inventory.html"><strong>3.7 </strong>Inventory Information</a></li></ol></div></li><li><div><a href="../tricks.html"><strong>4</strong> Tricks</a><ol style="list-style-type: none"><li><a href="../tricks/cost.html"><strong>4.1 </strong>Casting Cost</a></li><li><a href="../tricks/functions.html"><strong>4.2 </strong>Spell Deviations</a></li><li><a href="../tricks/basic.html"><strong>4.3 </strong>Basic Tricks</a></li><li><a href="../tricks/imports.html"><strong>4.4 </strong>Reusability</a></li><li><a href="../tricks/transmog.html"><strong>4.5 </strong>Transmogrification</a></li></ol></div></li><li><div><a href="../tutorials.html"><strong>5</strong> Tutorials</a><ol style="list-style-type: none"><li><a href="../tutorials/1_getting_started.html"><strong>5.1 </strong>1. Getting Started</a></li><li><a href="../tutorials/2_mana_basics.html"><strong>5.2 </strong>2. The Basics of Mana</a></li><li><a href="../tutorials/3_first_spell.html"><strong>5.3 </strong>3. Your First Spell</a></li><li><a href="../tutorials/4_easier_casting.html"><strong>5.4 </strong>4. Easier Casting</a></li><li><a href="../tutorials/5_spell_structure.html"><strong>5.5 </strong>5. Spell Structure</a></li><li><a href="../tutorials/7_recursion.html"><strong>5.6 </strong>6. Recursion</a></li><li><a href="../tutorials/6_functions.html"><strong>5.7 </strong>7. Spell Fragments</a></li></ol></div></li><li><div><a href="../distortions.html"><strong>6</strong> Distortions &amp; Stratagems</a><ol style="list-style-type: none"><li><a href="../distortions/tree.html"><strong>6.1 </strong>Spells</a></li><li><a href="../distortions/vector.html"><strong>6.2 </strong>Vectors</a></li><li><a href="../distortions/list.html"><strong>6.3 </strong>Lists</a></li><li><a href="../distortions/map.html"><strong>6.4 </strong>Maps</a></li><li><a href="../distortions/boolean.html"><strong>6.5 </strong>Boolean Logic</a></li><li><a href="../distortions/misc.html"><strong>6.6 </strong>Misc Distortions</a></li><li><a href="../distortions/arithmetic.html"><strong>6.7 </strong>Arithmetic</a></li><li><a href="../distortions/inventory.html"><strong>6.8 </strong>Items</a></li></ol></div></li><li><div><a href="../ploys.html"><strong>7</strong> Ploys</a><ol style="list-style-type: none"><li><a href="../ploys/mana.html"><strong>7.1 </strong>A Shimmer in the Night</a></li><li><a href="../ploys/flecks.html"><strong>7.2 </strong>Flecks</a></li><li><a href="../ploys/particle.html"><strong>7.3 </strong>Particles</a></li><li><a href="../ploys/misc.html"><strong>7.4 </strong>Misc Ploys</a></li><li><a href="../ploys/message.html"><strong>7.5 </strong>Interspell Communication</a></li><li><a href="../ploys/mana_generation.html"><strong>7.6 </strong>Mana Generation</a></li><li><a href="../ploys/entity.html"><strong>7.7 </strong>Entity Ploys</a></li><li><a href="../ploys/block.html"><strong>7.8 </strong>Block Interaction</a></li><li><a href="../ploys/projectile.html"><strong>7.9 </strong>Projectiles</a></li><li><a href="../ploys/inventory.html"><strong>7.10 </strong>Inventory Manipulation</a></li></ol></div></li></ol></div><main><h1>Casting Context</h1><div><img src="../assets/pattern/Positioning Delusion.png"><p>Returns the location the spell is being cast from.</p><img src="../assets/pattern/Directional Delusion.png"><p>Returns the direction the casting block or entity is facing as a unit vector.</p><img src="../assets/pattern/Reflection Delusion.png"><p>Returns the entity casting the spell, if available.</p><img src="../assets/pattern/Dimensional Delusion.png"><p>Returns the dimension where this spell is being cast.</p><img src="../assets/pattern/Authority Delusion.png"><p>Returns the amount of mana directly available to the spell.</p><p>This delusion counts the amount of mana in all mana-carrying items the caster is holding or wearing,including <span style="color: #5555FF">Knots</span> and <span style="color: #5555FF">Whorls</span>.</p><p>When cast from a <span style="color: #5555FF">Spell Construct</span>, only the mana in the Construct&#x27;s one Knot slot is counted.</p><img src="../assets/pattern/Crowning Delusion.png"><p>Returns the maximum amount of mana that the caster of the spell can store. Works similarly to the previous delusion.</p><img src="../assets/pattern/Delusion of Order.png"><p>Returns the spell slot running this spell, or void if this casting context does not use spell slots.</p><img src="../assets/pattern/Macro Delusion.png"><p>Returns a map containing the combined maps of all rings worn, with any entries that aren&#x27;t valid macros filtered out.</p><p>The result of this trick is equal to the map used when evaluating macros.</p><p>See the entry on <span style="color: #5555FF">Macros</span> for more details.</p><img src="../assets/pattern/Framed Delusion.png"><p>Returns the selected hotbar slot of the caster, if available.</p></div></main></body></html>